<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pferderennen - Das GroÃŸe Derby</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="startScreenModal" class="modal-overlay-container">
        <div class="modal-content-box">
            <h2>ğŸ“œ Das GroÃŸe Derby - Regelwerk</h2>
            <div class="modal-body-text">
                <p>Willkommen auf der Rennbahn! Deine Aufgabe:</p>
                <ul>
                    <li>ğŸ‡ <strong>HÃ¤mmern:</strong> DrÃ¼cke deine Taste so schnell du kannst!</li>
                    <li>ğŸš« <strong>Anti-Cheat:</strong> GedrÃ¼ckt halten gilt nicht! Tippen ist Pflicht.</li>
                    <li>ğŸ† <strong>Turnier:</strong> 3 Runden. Gegner werden jede Runde stÃ¤rker!</li>
                    
                    <li>ğŸ’° <strong>Wetten:</strong> Trage deinen Einsatz <strong>vor dem Start</strong> unten im <strong>Wett-BÃ¼ro</strong> ein. <br>
                    <span style="font-size: 0.9em; color: #27ae60;">(Sieg = Doppelter Einsatz. Niederlage = Geld weg.)</span></li>
                </ul>
                <hr>
                
                <div class="modal-settings-group">
                    <label>Schwierigkeit:</label>
                    <select id="difficultySelectionDropdown">
                        <option value="easy">Leicht ğŸŸ¢</option>
                        <option value="medium" selected>Mittel ğŸŸ¡</option>
                        <option value="hard">Schwer ğŸ”´</option>
                    </select>
                </div>
                <div class="modal-settings-group">
                    <label>Modus:</label>
                    <div style="display:inline-block; text-align:left;">
                        <input type="checkbox" id="tournamentModeCheckbox">
                        <label for="tournamentModeCheckbox">ğŸ† Turnier-Modus (3 Runden)</label>
                    </div>
                </div>
                <button id="closeModalButton">VERSTANDEN & LOS GEHT'S</button>
            </div>
        </div>
    </div>

    <div id="shopInterfaceModal" class="modal-overlay-container visually-hidden">
        <div class="modal-content-box" style="max-width: 800px;">
            <h2>ğŸ›’ Der Rennstall-Shop</h2>
            <p>Kaufe dir legendÃ¤re Reittiere!</p>
            <div id="shopItemsContainer" class="shop-grid-layout">
                </div>
            <button id="closeShopButton" style="margin-top: 20px; background: #7f8c8d; font-size: 30px; padding: 20px 40px;">ZURÃœCK ZUR BAHN</button>
        </div>
    </div>

    <div id="dopingOfferModal" class="modal-overlay-container visually-hidden">
        <div class="modal-content-box doping-content-style">
            <div style="font-size: 50px;">ğŸ•µï¸â€â™‚ï¸</div>
            <h2>Psst... Hey du!</h2>
            <div class="modal-body-text">
                <p>Das ist die finale Runde. Die anderen sind verdammt schnell.</p>
                <p>Ich hab hier ein <strong>spezielles Mittelchen</strong>. Macht dein Pferd 30% schneller.</p>
                <p style="color: #c0392b; font-weight: bold;">(Warnung: Wenn du kurz vor dem Ziel erwischt wirst, verlierst du alles!)</p>
            </div>
            
            <div style="display: flex; gap: 20px; justify-content: center; margin-top: 20px;">
                <button id="acceptDopingButton" style="background: #e74c3c; font-size: 24px">ğŸ§ª Gib mir das Zeug (-500$)</button>
                <button id="declineDopingButton" style="background: #27ae60; font-size: 24px">â›” Nein, ich gewinne fair!</button>
            </div>
        </div>
    </div>

    <div id="bustedNotificationOverlay" class="modal-overlay-container visually-hidden" style="background: rgba(192, 57, 43, 0.95); z-index: 2000;">
        <div class="modal-content-box busted-content-style" style="border-color: red; transform: rotate(2deg);">
            <div style="font-size: 120px;">ğŸš¨</div>
            <h1 style="color: red; font-size: 4em; margin: 0; text-shadow: 2px 2px black;">ERWISCHT!</h1>
            <h2 style="border: none;">DISQUALIFIZIERT</h2>
            <p style="color: #333; font-weight: bold;">Doping-Test positiv! Dein Preisgeld und Guthaben wurden beschlagnahmt.</p>
            <button id="confirmBustedButton" style="background: #333; color: white;">Verdammt...</button>
        </div>
    </div>

    <div class="sky-background-layer"></div>

    <div class="main-game-container">
        <h1>ğŸ‡ GroÃŸes Derby ğŸ‡</h1>
        
        <div id="gameSetupSection">
            <div class="setup-row-wrapper">
                <div class="setup-group-item">
                    <label>Aktueller Modus:</label>
                    <span id="currentGameModeDisplay" style="font-weight:bold; color:#2c3e50;">Mittel (Einzelrennen)</span>
                </div>

                <div class="setup-group-item">
                    <label>Spieler-Anzahl:</label>
                    <input type="checkbox" id="multiplayerModeCheckbox">
                    <label for="multiplayerModeCheckbox">2 Spieler</label>
                </div>
            </div>

            <hr>

            <div class="keyboard-config-container">
                <div class="key-config-group">
                    Spieler 1 Taste: <input type="text" id="playerOneKeyInput" maxlength="1" placeholder="_" readonly class="key-input-box">
                </div>
                <div class="key-config-group" id="playerTwoSetupContainer" style="display: none;">
                    Spieler 2 Taste: <input type="text" id="playerTwoKeyInput" maxlength="1" placeholder="_" readonly class="key-input-box">
                </div>
            </div>

            <div style="display: flex; gap: 10px; justify-content: center;">
                <button id="openShopButton" style="width: auto; padding: 15px 20px; background: #f39c12; border-color: #d35400;">ğŸ›’ SHOP</button>
                <button id="startGameButton" disabled>RENNEN STARTEN</button>
            </div>
        </div>

        <h2 id="gameStatusTextDisplay">Konfiguriere das Spiel...</h2>

        <div class="race-track-display">
            
            <img src="pferd-gelb.png" class="horse-figure" id="playerOneHorseImage" alt="Spieler 1">

            <img src="pferd-gruen.png" class="horse-figure" id="playerTwoHorseImage" alt="GrÃ¼nes Pferd">
            <img src="pferd-blau.png" class="horse-figure" id="computerOpponentImageOne" alt="Blaues Pferd">
            <img src="pferd-rot.png" class="horse-figure" id="computerOpponentImageTwo" alt="Rotes Pferd">

        </div> 

        <div class="heads-up-display-dashboard">
            <div class="hud-info-box betting-section">
                <h3>ğŸ’° WETT-BÃœRO</h3>
                <div class="balance-text-display">Guthaben: <span id="currentBalanceDisplay">1000</span> $</div>
                <div class="betting-controls-wrapper">
                    Einsatz: <input type="number" id="bettingAmountInput" value="100" min="0" step="50"> $
                </div>
            </div>

            <div class="hud-info-box scoreboard-section">
                <h3>ğŸ† ERGEBNISSE</h3>
                <ul id="scoreboardList"><li>Noch keine Rennen...</li></ul>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
